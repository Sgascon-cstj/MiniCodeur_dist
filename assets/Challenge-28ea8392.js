var I=Object.defineProperty;var N=(c,l,n)=>l in c?I(c,l,{enumerable:!0,configurable:!0,writable:!0,value:n}):c[l]=n;var F=(c,l,n)=>(N(c,typeof l!="symbol"?l+"":l,n),n);import{D as U}from"./DefaultLayout-9faf5610.js";import{S as T}from"./UserRepository-f7559e71.js";import{x as q,d as R,r as y,o as $,b as a,c as o,l as s,w as e,g as t,f,u as M,e as w,F as L,s as j,z as O,h as v,t as b,q as _,p as W,k as G,_ as H}from"./index-0979e10b.js";import{j as J,o as K,E as P,T as Q}from"./editor-0b29db1c.js";import{a as X,A as Y,F as Z,_ as ee,w as te,f as le,i as oe}from"./ifElse-eebc3754.js";class ae{constructor(){F(this,"axios",q("axios"))}async retrieveAll(){try{const l=await this.axios.get(`${T}/api/challenges`);if(l.status===200)return l.data}catch(l){throw l}}}const S=c=>(W("data-v-854158b7"),c=c(),G(),c),ne=S(()=>f("h3",null,"Editeur",-1)),se={id:""},ce=S(()=>f("p",{id:"jsEditor"},null,-1)),re=S(()=>f("div",null,[f("p",{class:"text-left"},[v("> "),f("span",{class:"text-grey-darken-1"},"Exécutez votre code pour voir le résultat!")])],-1)),ue={class:"font-weight-bold"},de=R({__name:"playground",props:["challenge"],setup(c){const l=c,n=y(""),m=y(!1),x=[J(),K],r=y(new P);$(()=>{n.value=l.challenge.baseCode});async function V(){r.value.run(n.value).then(function(h){h.forEach(u=>{r.value.addOutput(u)}),m.value=r.value.validate(l.challenge),console.log(r.value.validate(l.challenge))}).catch(function(h){r.value.addOutput(h,"err")})}return(h,u)=>{const p=a("v-col"),k=a("v-list-item"),g=a("v-icon"),d=a("v-list"),C=a("v-card"),z=a("v-btn"),E=a("v-row"),A=a("v-card-title"),B=a("v-divider"),D=a("v-card-text");return o(),s(E,{class:"ma-16"},{default:e(()=>[t(p,{cols:"6"},{default:e(()=>[t(C,{"elevation-6":""},{default:e(()=>[t(E,{class:"ma-5 text-center align-center"},{default:e(()=>[t(p,{cols:"12"},{default:e(()=>[ne,f("div",se,[t(M(Q),{modelValue:n.value,"onUpdate:modelValue":u[0]||(u[0]=i=>n.value=i),placeholder:"Code goes here...",style:{height:"300px",textAlign:"left"},autofocus:!0,"indent-with-tab":!0,"tab-size":2,extensions:x},null,8,["modelValue"]),ce])]),_:1}),t(p,{cols:"12"},{default:e(()=>[t(C,{height:"150px",elevation:"2"},{default:e(()=>[t(d,{dense:"",class:"pa-3 console"},{default:e(()=>[t(k,null,{default:e(()=>[re]),_:1}),(o(!0),w(L,null,j(r.value.lines.reverse(),i=>(o(),s(k,null,{default:e(()=>[f("div",null,[i.type=="err"?(o(),w("p",{key:0,class:O([i.type,"text-left"])},[v(" > "),t(g,null,{default:e(()=>[v("mdi-close-circle")]),_:1}),v(" "+b(i.message),1)],2)):_("",!0),i.type=="log"?(o(),w("p",{key:1,class:O([i.type,"text-left"])}," > "+b(i.message),3)):_("",!0)])]),_:2},1024))),256))]),_:1})]),_:1})]),_:1}),t(p,{cols:"6"},{default:e(()=>[t(z,{class:"mt-5",onClick:u[1]||(u[1]=i=>V()),color:"primary"},{default:e(()=>[v("Exécuter")]),_:1})]),_:1}),t(p,{cols:"6"},{default:e(()=>[t(z,{class:"mt-5",onClick:u[2]||(u[2]=i=>r.value.removeLines()),color:"red"},{default:e(()=>[v("Vider")]),_:1})]),_:1})]),_:1})]),_:1})]),_:1}),t(p,{cols:"6",offset:"0"},{default:e(()=>[t(C,null,{default:e(()=>[m.value?_("",!0):(o(),s(A,{key:0},{default:e(()=>[t(g,{color:"red"},{default:e(()=>[v("mdi-close-circle")]),_:1}),v(" Objectif")]),_:1})),m.value?(o(),s(A,{key:1},{default:e(()=>[t(g,{color:"green"},{default:e(()=>[v("mdi-check")]),_:1}),v(" Objectif")]),_:1})):_("",!0),t(D,null,{default:e(()=>[f("p",ue,"Objectif: "+b(l.challenge.challenge),1),t(B,{class:"mt-3"}),t(E,null,{default:e(()=>[t(p,{cols:"12",class:"hints mt-6"},{default:e(()=>[l.challenge.hints==="for"?(o(),s(X,{key:0})):_("",!0),l.challenge.hints==="array"?(o(),s(Y,{key:1})):_("",!0),l.challenge.hints==="fonction"?(o(),s(Z,{key:2})):_("",!0),l.challenge.hints==="variable"?(o(),s(ee,{key:3})):_("",!0),l.challenge.hints==="whileLoop"?(o(),s(te,{key:4})):_("",!0),l.challenge.hints==="foreachLoop"?(o(),s(le,{key:5})):_("",!0),l.challenge.hints==="ifElse"?(o(),s(oe,{key:6})):_("",!0)]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})}}});const _e=H(de,[["__scopeId","data-v-854158b7"]]),ge=R({__name:"Challenge",setup(c){const l=new ae,n=y(""),m=y();return $(async()=>{try{m.value=await l.retrieveAll(),m.value[0].response="Wouf"}catch(x){console.log(x)}}),(x,r)=>{const V=a("v-tab"),h=a("v-tabs"),u=a("v-col"),p=a("v-window-item"),k=a("v-window"),g=a("v-row");return o(),s(U,null,{default:e(()=>[t(g,{class:"ma-5"},{default:e(()=>[t(u,{cols:"12"},{default:e(()=>[t(h,{modelValue:n.value,"onUpdate:modelValue":r[0]||(r[0]=d=>n.value=d),direction:"horizontal","show-arrows":""},{default:e(()=>[(o(!0),w(L,null,j(m.value,d=>(o(),s(V,{value:d.title},{default:e(()=>[f("p",null,b(d.title),1)]),_:2},1032,["value"]))),256))]),_:1},8,["modelValue"])]),_:1}),t(u,{cols:"12"},{default:e(()=>[t(k,{modelValue:n.value,"onUpdate:modelValue":r[1]||(r[1]=d=>n.value=d)},{default:e(()=>[(o(!0),w(L,null,j(m.value,d=>(o(),s(p,{value:d.title},{default:e(()=>[t(_e,{challenge:d},null,8,["challenge"])]),_:2},1032,["value"]))),256))]),_:1},8,["modelValue"])]),_:1})]),_:1})]),_:1})}}});export{ge as default};
