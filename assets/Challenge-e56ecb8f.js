var N=Object.defineProperty;var U=(c,l,n)=>l in c?N(c,l,{enumerable:!0,configurable:!0,writable:!0,value:n}):c[l]=n;var F=(c,l,n)=>(U(c,typeof l!="symbol"?l+"":l,n),n);import{D as T}from"./DefaultLayout-fbb1746d.js";import{S as q}from"./UserRepository-a77d85ad.js";import{x as M,d as R,r as g,o as $,b as a,c as o,l as s,w as e,g as t,f as m,u as W,e as y,F as L,s as j,z as O,h as v,t as b,q as d,p as G,k as H,_ as J}from"./index-008c8163.js";import{j as K,o as P,E as Q,T as X}from"./editor-3641f6eb.js";import{a as Y,A as Z,F as ee,_ as te,w as le,f as oe,i as ae}from"./ifElse-628b996a.js";class ne{constructor(){F(this,"axios",M("axios"))}async retrieveAll(){try{const l=await this.axios.get(`${q}/api/challenges`);if(l.status===200)return l.data}catch(l){throw l}}}const S=c=>(G("data-v-72cb86d7"),c=c(),H(),c),se=S(()=>m("h3",null,"Editeur",-1)),ce={id:""},re=S(()=>m("p",{id:"jsEditor"},null,-1)),ue=S(()=>m("p",{class:"text-left"},[v("> "),m("span",{class:"text-grey-darken-1"},"Exécutez votre code pour voir le résultat!")],-1)),_e={class:"font-weight-bold"},de=R({__name:"playground",props:["challenge"],setup(c){const l=c,n=g(""),f=g(!1),w=[K(),P],u=g(new Q);$(()=>{n.value=l.challenge.baseCode});async function V(){u.value.run(n.value).then(function(h){h.forEach(_=>{u.value.addOutput(_)}),f.value=u.value.validate(l.challenge),console.log(u.value.validate(l.challenge))}).catch(function(h){u.value.addOutput(h,"err")})}return(h,_)=>{const p=a("v-col"),x=a("v-list-item-content"),k=a("v-list-item"),r=a("v-icon"),B=a("v-list"),C=a("v-card"),z=a("v-btn"),E=a("v-row"),A=a("v-card-title"),D=a("v-divider"),I=a("v-card-text");return o(),s(E,{class:"ma-16"},{default:e(()=>[t(p,{cols:"6"},{default:e(()=>[t(C,{"elevation-6":""},{default:e(()=>[t(E,{class:"ma-5 text-center align-center"},{default:e(()=>[t(p,{cols:"12"},{default:e(()=>[se,m("div",ce,[t(W(X),{modelValue:n.value,"onUpdate:modelValue":_[0]||(_[0]=i=>n.value=i),placeholder:"Code goes here...",style:{height:"300px",textAlign:"left"},autofocus:!0,"indent-with-tab":!0,"tab-size":2,extensions:w},null,8,["modelValue"]),re])]),_:1}),t(p,{cols:"12"},{default:e(()=>[t(C,{height:"150px",elevation:"2"},{default:e(()=>[t(B,{dense:"",class:"pa-3 console"},{default:e(()=>[t(k,null,{default:e(()=>[t(x,null,{default:e(()=>[ue]),_:1})]),_:1}),(o(!0),y(L,null,j(u.value.lines.reverse(),i=>(o(),s(k,null,{default:e(()=>[t(x,null,{default:e(()=>[i.type=="err"?(o(),y("p",{key:0,class:O([i.type,"text-left"])},[v(" > "),t(r,null,{default:e(()=>[v("mdi-close-circle")]),_:1}),v(" "+b(i.message),1)],2)):d("",!0),i.type=="log"?(o(),y("p",{key:1,class:O([i.type,"text-left"])}," > "+b(i.message),3)):d("",!0)]),_:2},1024)]),_:2},1024))),256))]),_:1})]),_:1})]),_:1}),t(p,{cols:"6"},{default:e(()=>[t(z,{class:"mt-5",onClick:_[1]||(_[1]=i=>V()),color:"primary"},{default:e(()=>[v("Exécuter")]),_:1})]),_:1}),t(p,{cols:"6"},{default:e(()=>[t(z,{class:"mt-5",onClick:_[2]||(_[2]=i=>u.value.removeLines()),color:"red"},{default:e(()=>[v("Vider")]),_:1})]),_:1})]),_:1})]),_:1})]),_:1}),t(p,{cols:"6",offset:"0"},{default:e(()=>[t(C,null,{default:e(()=>[f.value?d("",!0):(o(),s(A,{key:0},{default:e(()=>[t(r,{color:"red"},{default:e(()=>[v("mdi-close-circle")]),_:1}),v(" Objectif")]),_:1})),f.value?(o(),s(A,{key:1},{default:e(()=>[t(r,{color:"green"},{default:e(()=>[v("mdi-check")]),_:1}),v(" Objectif")]),_:1})):d("",!0),t(I,null,{default:e(()=>[m("p",_e,"Objectif: "+b(l.challenge.challenge),1),t(D,{class:"mt-3"}),t(E,null,{default:e(()=>[t(p,{cols:"12",class:"hints mt-6"},{default:e(()=>[l.challenge.hints==="for"?(o(),s(Y,{key:0})):d("",!0),l.challenge.hints==="array"?(o(),s(Z,{key:1})):d("",!0),l.challenge.hints==="fonction"?(o(),s(ee,{key:2})):d("",!0),l.challenge.hints==="variable"?(o(),s(te,{key:3})):d("",!0),l.challenge.hints==="whileLoop"?(o(),s(le,{key:4})):d("",!0),l.challenge.hints==="foreachLoop"?(o(),s(oe,{key:5})):d("",!0),l.challenge.hints==="ifElse"?(o(),s(ae,{key:6})):d("",!0)]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})}}});const ie=J(de,[["__scopeId","data-v-72cb86d7"]]),ye=R({__name:"Challenge",setup(c){const l=new ne,n=g(""),f=g();return $(async()=>{try{f.value=await l.retrieveAll(),f.value[0].response="Wouf"}catch(w){console.log(w)}}),(w,u)=>{const V=a("v-tab"),h=a("v-tabs"),_=a("v-col"),p=a("v-window-item"),x=a("v-window"),k=a("v-row");return o(),s(T,null,{default:e(()=>[t(k,{class:"ma-5"},{default:e(()=>[t(_,{cols:"12"},{default:e(()=>[t(h,{modelValue:n.value,"onUpdate:modelValue":u[0]||(u[0]=r=>n.value=r),direction:"horizontal","show-arrows":""},{default:e(()=>[(o(!0),y(L,null,j(f.value,r=>(o(),s(V,{value:r.title},{default:e(()=>[m("p",null,b(r.title),1)]),_:2},1032,["value"]))),256))]),_:1},8,["modelValue"])]),_:1}),t(_,{cols:"12"},{default:e(()=>[t(x,{modelValue:n.value,"onUpdate:modelValue":u[1]||(u[1]=r=>n.value=r)},{default:e(()=>[(o(!0),y(L,null,j(f.value,r=>(o(),s(p,{value:r.title},{default:e(()=>[t(ie,{challenge:r},null,8,["challenge"])]),_:2},1032,["value"]))),256))]),_:1},8,["modelValue"])]),_:1})]),_:1})]),_:1})}}});export{ye as default};
