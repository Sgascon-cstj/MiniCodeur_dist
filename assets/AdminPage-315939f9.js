var mt=Object.defineProperty;var pt=(a,n,o)=>n in a?mt(a,n,{enumerable:!0,configurable:!0,writable:!0,value:o}):a[n]=o;var K=(a,n,o)=>(pt(a,typeof n!="symbol"?n+"":n,o),o);import{D as ft}from"./DefaultLayout-bfd4b0b8.js";import{U as Ge,S as se}from"./UserRepository-6a763eae.js";import{O as G,P as de,A as R,M as ze,H as ce,x as ue,Q as Pe,R as _e,S as De,g as e,V as _t,T as re,U as gt,m as M,W as ie,r as y,X as Le,Y as Qe,Z as ee,$ as Te,a0 as be,a1 as Re,a2 as yt,a3 as bt,a4 as wt,a5 as Ve,a6 as xt,F as H,a7 as qe,a8 as ht,h as x,a9 as Vt,y as Oe,aa as me,ab as kt,B as we,ac as Ct,ad as St,ae as At,af as Pt,ag as Tt,ah as Ne,d as J,o as ke,b as s,c as O,e as te,w as t,u as ge,f as F,t as N,l as ne,I as xe,s as $t,q as Dt}from"./index-3512041f.js";import{A as pe,b as fe,Q as he,a as He,C as Je}from"./Question-8fff6e5a.js";import{E as qt}from"./ExamRepository-e61aa6b2.js";import{G as We}from"./GroupeRepository-91c92a90.js";const Et=G({page:{type:[Number,String],default:1},itemsPerPage:{type:[Number,String],default:10}},"DataTable-paginate"),Ke=Symbol.for("vuetify:data-table-pagination");function It(a){const n=de(a,"page",void 0,l=>+(l??1)),o=de(a,"itemsPerPage",void 0,l=>+(l??10));return{page:n,itemsPerPage:o}}function Ut(a){const{page:n,itemsPerPage:o,itemsLength:l}=a,r=R(()=>o.value===-1?0:o.value*(n.value-1)),p=R(()=>o.value===-1?l.value:Math.min(l.value,r.value+o.value)),c=R(()=>o.value===-1||l.value===0?1:Math.ceil(l.value/o.value));ze(()=>{n.value>c.value&&(n.value=c.value)});function d(u){o.value=u,n.value=1}function v(){n.value=Pe(n.value+1,1,c.value)}function _(){n.value=Pe(n.value-1,1,c.value)}function m(u){n.value=Pe(u,1,c.value)}const i={page:n,itemsPerPage:o,startIndex:r,stopIndex:p,pageCount:c,itemsLength:l,nextPage:v,prevPage:_,setPage:m,setItemsPerPage:d};return ce(Ke,i),i}function Bt(){const a=ue(Ke);if(!a)throw new Error("Missing pagination!");return a}function Lt(a){const{items:n,startIndex:o,stopIndex:l,itemsPerPage:r}=a;return{paginatedItems:R(()=>r.value<=0?n.value:n.value.slice(o.value,l.value))}}const Xe=G({prevIcon:{type:String,default:"$prev"},nextIcon:{type:String,default:"$next"},firstIcon:{type:String,default:"$first"},lastIcon:{type:String,default:"$last"},itemsPerPageText:{type:String,default:"$vuetify.dataFooter.itemsPerPageText"},pageText:{type:String,default:"$vuetify.dataFooter.pageText"},firstPageLabel:{type:String,default:"$vuetify.dataFooter.firstPage"},prevPageLabel:{type:String,default:"$vuetify.dataFooter.prevPage"},nextPageLabel:{type:String,default:"$vuetify.dataFooter.nextPage"},lastPageLabel:{type:String,default:"$vuetify.dataFooter.lastPage"},itemsPerPageOptions:{type:Array,default:()=>[{value:10,title:"10"},{value:25,title:"25"},{value:50,title:"50"},{value:100,title:"100"},{value:-1,title:"$vuetify.dataFooter.itemsPerPageAll"}]},showCurrentPage:Boolean},"VDataTableFooter"),je=_e()({name:"VDataTableFooter",props:Xe(),setup(a,n){let{slots:o}=n;const{t:l}=De(),{page:r,pageCount:p,startIndex:c,stopIndex:d,itemsLength:v,itemsPerPage:_,setItemsPerPage:m}=Bt(),i=R(()=>a.itemsPerPageOptions.map(u=>({...u,title:l(u.title)})));return()=>{var u;return e("div",{class:"v-data-table-footer"},[(u=o.prepend)==null?void 0:u.call(o),e("div",{class:"v-data-table-footer__items-per-page"},[e("span",null,[l(a.itemsPerPageText)]),e(_t,{items:i.value,modelValue:_.value,"onUpdate:modelValue":h=>m(Number(h)),density:"compact",variant:"outlined","hide-details":!0},null)]),e("div",{class:"v-data-table-footer__info"},[e("div",null,[l(a.pageText,v.value?c.value+1:0,d.value,v.value)])]),e("div",{class:"v-data-table-footer__pagination"},[e(re,{icon:a.firstIcon,variant:"plain",onClick:()=>r.value=1,disabled:r.value===1,"aria-label":l(a.firstPageLabel)},null),e(re,{icon:a.prevIcon,variant:"plain",onClick:()=>r.value=Math.max(1,r.value-1),disabled:r.value===1,"aria-label":l(a.prevPageLabel)},null),a.showCurrentPage&&e("span",{key:"page",class:"v-data-table-footer__page"},[r.value]),e(re,{icon:a.nextIcon,variant:"plain",onClick:()=>r.value=Math.min(p.value,r.value+1),disabled:r.value===p.value,"aria-label":l(a.nextPageLabel)},null),e(re,{icon:a.lastIcon,variant:"plain",onClick:()=>r.value=p.value,disabled:r.value===p.value,"aria-label":l(a.lastPageLabel)},null)])])}}}),Ee=gt({align:{type:String,default:"start"},fixed:Boolean,fixedOffset:[Number,String],height:[Number,String],lastFixed:Boolean,noPadding:Boolean,tag:String,width:[Number,String]},(a,n)=>{let{slots:o,attrs:l}=n;const r=a.tag??"td";return e(r,M({class:["v-data-table__td",{"v-data-table-column--fixed":a.fixed,"v-data-table-column--last-fixed":a.lastFixed,"v-data-table-column--no-padding":a.noPadding},`v-data-table-column--align-${a.align}`],style:{height:ie(a.height),width:ie(a.width),left:ie(a.fixedOffset||null)}},l),{default:()=>{var p;return[(p=o.default)==null?void 0:p.call(o)]}})}),Qt=G({headers:{type:Array,default:()=>[]}},"DataTable-header"),Ye=Symbol.for("vuetify:data-table-headers");function Rt(a,n){const o=y([]),l=y([]);ze(()=>{var h,w,g;const p=a.headers.length?Array.isArray(a.headers[0])?a.headers:[a.headers]:[],c=p.flatMap((f,V)=>f.map($=>({column:$,row:V}))),d=p.length,v={title:"",sortable:!1},_={...v,width:48};if((h=n==null?void 0:n.groupBy)!=null&&h.value.length){const f=c.findIndex(V=>{let{column:$}=V;return $.key==="data-table-group"});f<0?c.unshift({column:{...v,key:"data-table-group",title:"Group",rowspan:d},row:0}):c.splice(f,1,{column:{...v,...c[f].column},row:c[f].row})}if((w=n==null?void 0:n.showSelect)!=null&&w.value){const f=c.findIndex(V=>{let{column:$}=V;return $.key==="data-table-select"});f<0?c.unshift({column:{..._,key:"data-table-select",rowspan:d},row:0}):c.splice(f,1,{column:{..._,...c[f].column},row:c[f].row})}if((g=n==null?void 0:n.showExpand)!=null&&g.value){const f=c.findIndex(V=>{let{column:$}=V;return $.key==="data-table-expand"});f<0?c.push({column:{..._,key:"data-table-expand",rowspan:d},row:0}):c.splice(f,1,{column:{..._,...c[f].column},row:c[f].row})}const m=Le(d).map(()=>[]),i=Le(d).fill(0);c.forEach(f=>{let{column:V,row:$}=f,E=V.key;E==null&&(E="");for(let P=$;P<=$+(V.rowspan??1)-1;P++)m[P].push({...V,key:E,fixedOffset:i[P],sortable:V.sortable??!!V.key}),i[P]+=Number(V.width??0)}),m.forEach(f=>{for(let V=f.length;V--;V>=0)if(f[V].fixed){f[V].lastFixed=!0;return}});const u=new Set;o.value=m.map(f=>{const V=[];for(const $ of f)u.has($.key)||(u.add($.key),V.push($));return V}),l.value=m.at(-1)??[]});const r={headers:o,columns:l};return ce(Ye,r),r}function Ce(){const a=ue(Ye);if(!a)throw new Error("Missing headers!");return a}const Ot={showSelectAll:!1,allSelected:()=>[],select:a=>{var l;let{items:n,value:o}=a;return new Set(o?[(l=n[0])==null?void 0:l.value]:[])},selectAll:a=>{let{selected:n}=a;return n}},Ze={showSelectAll:!0,allSelected:a=>{let{currentPage:n}=a;return n},select:a=>{let{items:n,value:o,selected:l}=a;for(const r of n)o?l.add(r.value):l.delete(r.value);return l},selectAll:a=>{let{value:n,currentPage:o,selected:l}=a;return Ze.select({items:o,value:n,selected:l})}},et={showSelectAll:!0,allSelected:a=>{let{allItems:n}=a;return n},select:a=>{let{items:n,value:o,selected:l}=a;for(const r of n)o?l.add(r.value):l.delete(r.value);return l},selectAll:a=>{let{value:n,allItems:o,selected:l}=a;return et.select({items:o,value:n,selected:l})}},Nt=G({showSelect:Boolean,selectStrategy:{type:[String,Object],default:"page"},modelValue:{type:Array,default:()=>[]}},"DataTable-select"),tt=Symbol.for("vuetify:data-table-selection");function jt(a,n){let{allItems:o,currentPage:l}=n;const r=de(a,"modelValue",a.modelValue,f=>new Set(f),f=>[...f.values()]),p=R(()=>o.value.filter(f=>f.selectable)),c=R(()=>l.value.filter(f=>f.selectable)),d=R(()=>{if(typeof a.selectStrategy=="object")return a.selectStrategy;switch(a.selectStrategy){case"single":return Ot;case"all":return et;case"page":default:return Ze}});function v(f){return Qe(f).every(V=>r.value.has(V.value))}function _(f){return Qe(f).some(V=>r.value.has(V.value))}function m(f,V){const $=d.value.select({items:f,value:V,selected:new Set(r.value)});r.value=$}function i(f){m([f],!v([f]))}function u(f){const V=d.value.selectAll({value:f,allItems:p.value,currentPage:c.value,selected:new Set(r.value)});r.value=V}const h=R(()=>r.value.size>0),w=R(()=>{const f=d.value.allSelected({allItems:p.value,currentPage:c.value});return v(f)}),g={toggleSelect:i,select:m,selectAll:u,isSelected:v,isSomeSelected:_,someSelected:h,allSelected:w,showSelectAll:d.value.showSelectAll};return ce(tt,g),g}function Se(){const a=ue(tt);if(!a)throw new Error("Missing selection!");return a}const Ft=G({sortBy:{type:Array,default:()=>[]},customKeySort:Object,multiSort:Boolean,mustSort:Boolean},"DataTable-sort"),at=Symbol.for("vuetify:data-table-sort");function Mt(a){const n=de(a,"sortBy"),o=ee(a,"mustSort"),l=ee(a,"multiSort");return{sortBy:n,mustSort:o,multiSort:l}}function Gt(a){const{sortBy:n,mustSort:o,multiSort:l,page:r}=a,p=v=>{let _=n.value.map(i=>({...i}))??[];const m=_.find(i=>i.key===v.key);m?m.order==="desc"?o.value?m.order="asc":_=_.filter(i=>i.key!==v.key):m.order="desc":l.value?_=[..._,{key:v.key,order:"asc"}]:_=[{key:v.key,order:"asc"}],n.value=_,r&&(r.value=1)};function c(v){return!!n.value.find(_=>_.key===v.key)}const d={sortBy:n,toggleSort:p,isSorted:c};return ce(at,d),d}function zt(){const a=ue(at);if(!a)throw new Error("Missing sort!");return a}function Ht(a,n,o){const l=De();return{sortedItems:R(()=>o.value.length?Jt(n.value,o.value,l.current.value,a.customKeySort):n.value)}}function Jt(a,n,o,l){const r=new Intl.Collator(o,{sensitivity:"accent",usage:"sort"});return[...a].sort((p,c)=>{for(let d=0;d<n.length;d++){const v=n[d].key,_=n[d].order??"asc";if(_===!1)continue;let m=Te(p.raw,v),i=Te(c.raw,v);if(_==="desc"&&([m,i]=[i,m]),l!=null&&l[v]){const u=l[v](m,i);if(!u)continue;return u}if(m instanceof Date&&i instanceof Date)return m.getTime()-i.getTime();if([m,i]=[m,i].map(u=>u!=null?u.toString().toLocaleLowerCase():u),m!==i)return be(m)&&be(i)?0:be(m)?-1:be(i)?1:!isNaN(m)&&!isNaN(i)?Number(m)-Number(i):r.compare(m,i)}return 0})}const lt=G({color:String,sticky:Boolean,multiSort:Boolean,sortAscIcon:{type:Re,default:"$sortAsc"},sortDescIcon:{type:Re,default:"$sortDesc"},...yt()},"VDataTableHeaders"),Fe=_e()({name:"VDataTableHeaders",props:lt(),setup(a,n){let{slots:o,emit:l}=n;const{toggleSort:r,sortBy:p,isSorted:c}=zt(),{someSelected:d,allSelected:v,selectAll:_,showSelectAll:m}=Se(),{columns:i,headers:u}=Ce(),{loaderClasses:h}=bt(a),w=(P,k)=>{if(!(!a.sticky&&!P.fixed))return{position:"sticky",zIndex:P.fixed?4:a.sticky?3:void 0,left:P.fixed?ie(P.fixedOffset):void 0,top:a.sticky?`calc(var(--v-table-header-height) * ${k})`:void 0}};function g(P){const k=p.value.find(b=>b.key===P.key);return k?k.order==="asc"?a.sortAscIcon:a.sortDescIcon:a.sortAscIcon}const{backgroundColorClasses:f,backgroundColorStyles:V}=wt(a,"color"),$=R(()=>({headers:u.value,columns:i.value,toggleSort:r,isSorted:c,sortBy:p.value,someSelected:d.value,allSelected:v.value,selectAll:_,getSortIcon:g,getFixedStyles:w})),E=P=>{let{column:k,x:b,y:A}=P;const C=k.key==="data-table-select"||k.key==="data-table-expand";return e(Ee,{tag:"th",align:k.align,class:["v-data-table__th",{"v-data-table__th--sortable":k.sortable,"v-data-table__th--sorted":c(k)},h.value],style:{width:ie(k.width),minWidth:ie(k.width),...w(k,A)},colspan:k.colspan,rowspan:k.rowspan,onClick:k.sortable?()=>r(k):void 0,lastFixed:k.lastFixed,noPadding:C},{default:()=>{var T;const S=`column.${k.key}`,I={column:k,selectAll:_,isSorted:c,toggleSort:r,sortBy:p.value,someSelected:d.value,allSelected:v.value,getSortIcon:g};return o[S]?o[S](I):k.key==="data-table-select"?((T=o["column.data-table-select"])==null?void 0:T.call(o,I))??(m&&e(qe,{modelValue:v.value,indeterminate:d.value&&!v.value,"onUpdate:modelValue":_},null)):e("div",{class:"v-data-table-header__content"},[e("span",null,[k.title]),k.sortable&&e(ht,{key:"icon",class:"v-data-table-header__sort-icon",icon:g(k)},null),a.multiSort&&c(k)&&e("div",{key:"badge",class:["v-data-table-header__sort-badge",...f.value],style:V.value},[p.value.findIndex(B=>B.key===k.key)+1])])}})};Ve(()=>e(H,null,[o.headers?o.headers($.value):u.value.map((P,k)=>e("tr",null,[P.map((b,A)=>e(E,{column:b,x:A,y:k},null))])),a.loading&&e("tr",{class:"v-data-table-progress"},[e("th",{colspan:i.value.length},[e(xt,{name:"v-data-table-progress",active:!0,color:typeof a.loading=="boolean"?void 0:a.loading,indeterminate:!0},{default:o.loader})])])]))}}),Wt=G({groupBy:{type:Array,default:()=>[]}},"DataTable-group"),nt=Symbol.for("vuetify:data-table-group");function Kt(a){return{groupBy:de(a,"groupBy")}}function Xt(a){const{groupBy:n,sortBy:o}=a,l=y(new Set),r=R(()=>n.value.map(_=>({..._,order:_.order??!1})).concat(o.value));function p(_){return l.value.has(_.id)}function c(_){const m=new Set(l.value);p(_)?m.delete(_.id):m.add(_.id),l.value=m}function d(_){function m(i){const u=[];for(const h of i.items)"type"in h&&h.type==="group"?u.push(...m(h)):u.push(h);return u}return m({type:"group",items:_,id:"dummy",key:"dummy",value:"dummy",depth:0})}const v={sortByWithGroups:r,toggleGroup:c,opened:l,groupBy:n,extractRows:d,isGroupOpen:p};return ce(nt,v),v}function ot(){const a=ue(nt);if(!a)throw new Error("Missing group!");return a}function Yt(a,n){if(!a.length)return[];const o=new Map;for(const l of a){const r=Te(l.raw,n);o.has(r)||o.set(r,[]),o.get(r).push(l)}return o}function st(a,n){let o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,l=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"root";if(!n.length)return[];const r=Yt(a,n[0]),p=[],c=n.slice(1);return r.forEach((d,v)=>{const _=n[0],m=`${l}_${_}_${v}`;p.push({depth:o,id:m,key:_,value:v,items:c.length?st(d,c,o+1,m):d,type:"group"})}),p}function ut(a,n){const o=[];for(const l of a)"type"in l&&l.type==="group"?(l.value!=null&&o.push(l),(n.has(l.id)||l.value==null)&&o.push(...ut(l.items,n))):o.push(l);return o}function Zt(a,n,o){return{flatItems:R(()=>{if(!n.value.length)return a.value;const r=st(a.value,n.value.map(p=>p.key));return ut(r,o.value)})}}const ea=G({item:{type:Object,required:!0}},"VDataTableGroupHeaderRow"),ta=_e()({name:"VDataTableGroupHeaderRow",props:ea(),setup(a,n){let{slots:o}=n;const{isGroupOpen:l,toggleGroup:r,extractRows:p}=ot(),{isSelected:c,isSomeSelected:d,select:v}=Se(),{columns:_}=Ce(),m=R(()=>p([a.item]));return()=>e("tr",{class:"v-data-table-group-header-row",style:{"--v-data-table-group-header-row-depth":a.item.depth}},[_.value.map(i=>{var u,h;if(i.key==="data-table-group"){const w=l(a.item)?"$expand":"$next",g=()=>r(a.item);return((u=o["data-table-group"])==null?void 0:u.call(o,{item:a.item,count:m.value.length,props:{icon:w,onClick:g}}))??e(Ee,{class:"v-data-table-group-header-row__column"},{default:()=>[e(re,{size:"small",variant:"text",icon:w,onClick:g},null),e("span",null,[a.item.value]),e("span",null,[x("("),m.value.length,x(")")])]})}if(i.key==="data-table-select"){const w=c(m.value),g=d(m.value)&&!w,f=V=>v(m.value,V);return((h=o["data-table-select"])==null?void 0:h.call(o,{props:{modelValue:w,indeterminate:g,"onUpdate:modelValue":f}}))??e("td",null,[e(qe,{modelValue:w,indeterminate:g,"onUpdate:modelValue":f},null)])}return e("td",null,null)})])}}),aa=G({expandOnClick:Boolean,showExpand:Boolean,expanded:{type:Array,default:()=>[]}},"DataTable-expand"),rt=Symbol.for("vuetify:datatable:expanded");function la(a){const n=ee(a,"expandOnClick"),o=de(a,"expanded",a.expanded,d=>new Set(d),d=>[...d.values()]);function l(d,v){const _=new Set(o.value);v?_.add(d.value):_.delete(d.value),o.value=_}function r(d){return o.value.has(d.value)}function p(d){l(d,!r(d))}const c={expand:l,expanded:o,expandOnClick:n,isExpanded:r,toggleExpand:p};return ce(rt,c),c}function it(){const a=ue(rt);if(!a)throw new Error("foo");return a}const na=G({index:Number,item:Object,onClick:Function},"VDataTableRow"),oa=Vt({name:"VDataTableRow",props:na(),setup(a,n){let{slots:o}=n;const{isSelected:l,toggleSelect:r}=Se(),{isExpanded:p,toggleExpand:c}=it(),{columns:d}=Ce();Ve(()=>e("tr",{class:["v-data-table__tr",{"v-data-table__tr--clickable":!!a.onClick}],onClick:a.onClick},[a.item&&d.value.map((v,_)=>e(Ee,{align:v.align,fixed:v.fixed,fixedOffset:v.fixedOffset,lastFixed:v.lastFixed,noPadding:v.key==="data-table-select"||v.key==="data-table-expand",width:v.width},{default:()=>{var h,w;const m=a.item,i=`item.${v.key}`,u={index:a.index,item:a.item,columns:d.value,isSelected:l,toggleSelect:r,isExpanded:p,toggleExpand:c};return o[i]?o[i](u):v.key==="data-table-select"?((h=o["item.data-table-select"])==null?void 0:h.call(o,u))??e(qe,{disabled:!m.selectable,modelValue:l([m]),onClick:Oe(()=>r(m),["stop"])},null):v.key==="data-table-expand"?((w=o["item.data-table-expand"])==null?void 0:w.call(o,u))??e(re,{icon:p(m)?"$collapse":"$expand",size:"small",variant:"text",onClick:Oe(()=>c(m),["stop"])},null):me(m.columns,v.key)}}))]))}}),dt=G({loading:[Boolean,String],loadingText:{type:String,default:"$vuetify.dataIterator.loadingText"},hideNoData:Boolean,items:{type:Array,default:()=>[]},noDataText:{type:String,default:"$vuetify.noDataText"},rowHeight:Number,"onClick:row":Function},"VDataTableRows"),Me=_e()({name:"VDataTableRows",props:dt(),setup(a,n){let{emit:o,slots:l}=n;const{columns:r}=Ce(),{expandOnClick:p,toggleExpand:c,isExpanded:d}=it(),{isSelected:v,toggleSelect:_}=Se(),{toggleGroup:m,isGroupOpen:i}=ot(),{t:u}=De();return Ve(()=>{var h;return a.loading&&l.loading?e("tr",{class:"v-data-table-rows-loading",key:"loading"},[e("td",{colspan:r.value.length},[l.loading()])]):!a.loading&&!a.items.length&&!a.hideNoData?e("tr",{class:"v-data-table-rows-no-data",key:"no-data"},[e("td",{colspan:r.value.length},[((h=l["no-data"])==null?void 0:h.call(l))??u(a.noDataText)])]):e(H,null,[a.items.map((w,g)=>{var $;if(w.type==="group")return l["group-header"]?l["group-header"]({index:g,item:w,columns:r.value,isExpanded:d,toggleExpand:c,isSelected:v,toggleSelect:_,toggleGroup:m,isGroupOpen:i}):e(ta,{key:`group-header_${w.id}`,item:w},l);const f={index:g,item:w,columns:r.value,isExpanded:d,toggleExpand:c,isSelected:v,toggleSelect:_},V={...f,props:{key:`item_${w.key??w.index}`,onClick:p.value||a["onClick:row"]?E=>{var P;p.value&&c(w),(P=a["onClick:row"])==null||P.call(a,E,{item:w})}:void 0,index:g,item:w}};return e(H,null,[l.item?l.item(V):e(oa,V.props,l),d(w)&&(($=l["expanded-row"])==null?void 0:$.call(l,f))])})])}),{}}}),sa=G({items:{type:Array,default:()=>[]},itemValue:{type:[String,Array,Function],default:"id"},itemSelectable:{type:[String,Array,Function],default:null},returnObject:Boolean},"DataTable-items");function ua(a,n,o,l){const r=a.returnObject?n:me(n,a.itemValue),p=me(n,a.itemSelectable,!0),c=l.reduce((d,v)=>(d[v.key]=me(n,v.value??v.key),d),{});return{type:"item",key:a.returnObject?me(n,a.itemValue):r,index:o,value:r,selectable:p,columns:c,raw:n}}function ra(a,n,o){return n.map((l,r)=>ua(a,l,r,o))}function ia(a,n){return{items:R(()=>ra(a,a.items,n.value))}}function da(a){let{page:n,itemsPerPage:o,sortBy:l,groupBy:r,search:p}=a;const c=kt("VDataTable"),d=R(()=>({page:n.value,itemsPerPage:o.value,sortBy:l.value,groupBy:r.value,search:p.value}));we(()=>p==null?void 0:p.value,()=>{n.value=1});let v=null;we(d,()=>{Ct(v,d.value)||(c.emit("update:options",d.value),v=d.value)},{deep:!0,immediate:!0})}const ca=G({...dt(),width:[String,Number],search:String,...aa(),...Wt(),...Qt(),...sa(),...Nt(),...Ft(),...lt(),...St()},"DataTable"),va=G({...Et(),...ca(),...At(),...Xe()},"VDataTable"),ye=_e()({name:"VDataTable",props:va(),emits:{"update:modelValue":a=>!0,"update:page":a=>!0,"update:itemsPerPage":a=>!0,"update:sortBy":a=>!0,"update:options":a=>!0,"update:groupBy":a=>!0,"update:expanded":a=>!0},setup(a,n){let{emit:o,slots:l}=n;const{groupBy:r}=Kt(a),{sortBy:p,multiSort:c,mustSort:d}=Mt(a),{page:v,itemsPerPage:_}=It(a),{columns:m,headers:i}=Rt(a,{groupBy:r,showSelect:ee(a,"showSelect"),showExpand:ee(a,"showExpand")}),{items:u}=ia(a,m),h=ee(a,"search"),{filteredItems:w}=Pt(a,u,h,{transform:U=>U.columns}),{toggleSort:g}=Gt({sortBy:p,multiSort:c,mustSort:d,page:v}),{sortByWithGroups:f,opened:V,extractRows:$,isGroupOpen:E,toggleGroup:P}=Xt({groupBy:r,sortBy:p}),{sortedItems:k}=Ht(a,w,f),{flatItems:b}=Zt(k,r,V),A=R(()=>b.value.length),{startIndex:C,stopIndex:S,pageCount:I,setItemsPerPage:T}=Ut({page:v,itemsPerPage:_,itemsLength:A}),{paginatedItems:B}=Lt({items:b,startIndex:C,stopIndex:S,itemsPerPage:_}),D=R(()=>$(B.value)),{isSelected:L,select:X,selectAll:ae,toggleSelect:W,someSelected:z,allSelected:le}=jt(a,{allItems:u,currentPage:D}),{isExpanded:Y,toggleExpand:Z}=la(a);da({page:v,itemsPerPage:_,sortBy:p,groupBy:r,search:h}),Tt({VDataTableRows:{hideNoData:ee(a,"hideNoData"),noDataText:ee(a,"noDataText"),loading:ee(a,"loading"),loadingText:ee(a,"loadingText")}});const j=R(()=>({page:v.value,itemsPerPage:_.value,sortBy:p.value,pageCount:I.value,toggleSort:g,setItemsPerPage:T,someSelected:z.value,allSelected:le.value,isSelected:L,select:X,selectAll:ae,toggleSelect:W,isExpanded:Y,toggleExpand:Z,isGroupOpen:E,toggleGroup:P,items:D.value,groupedItems:B.value,columns:m.value,headers:i.value}));return Ve(()=>{const[U]=je.filterProps(a),[Q]=Fe.filterProps(a),[q]=Me.filterProps(a),[ve]=Ne.filterProps(a);return e(Ne,M({class:["v-data-table",{"v-data-table--show-select":a.showSelect,"v-data-table--loading":a.loading},a.class],style:a.style},ve),{top:()=>{var oe;return(oe=l.top)==null?void 0:oe.call(l,j.value)},default:()=>{var oe,Ie,Ue,Be;return l.default?l.default(j.value):e(H,null,[(oe=l.colgroup)==null?void 0:oe.call(l,j.value),e("thead",null,[e(Fe,Q,l)]),(Ie=l.thead)==null?void 0:Ie.call(l,j.value),e("tbody",null,[l.body?l.body(j.value):e(Me,M(q,{items:B.value}),l)]),(Ue=l.tbody)==null?void 0:Ue.call(l,j.value),(Be=l.tfoot)==null?void 0:Be.call(l,j.value)])},bottom:()=>l.bottom?l.bottom(j.value):e(H,null,[e(je,U,{prepend:l["footer.prepend"]})])})}),{}}}),ma={style:{"font-weight":"14",color:"black"}},pa=J({__name:"GestionUtilisateur",setup(a){const n=new Ge,o=y(),l=y(),r=y(!0),p=y(!1),c=y(10),d=y(""),v=y(!1),_=y(),m=y(),i=y([{title:"Courriel",align:"end",key:"email"},{title:"Pseudonyme",align:"end",key:"displayname"},{title:"Prénom",align:"end",key:"firstname"},{title:"Nom",align:"end",key:"lastname"},{title:"Anniversaire",align:"end",key:"birthday"},{title:"Actions",key:"action",align:"center",sortable:!1}]),u=[{title:"5",value:5},{title:"10",value:10},{title:"15",value:15},{title:"25",value:25},{title:"100",value:100}];ke(async()=>{try{const g=await n.retrieveAllAsAdmin();g&&(o.value=g,r.value=!1)}catch(g){throw g}});async function h(){try{let g=l.value.raw;const f=await n.toggleBan(g.uuid_user);f&&(g.isBanned=f.isBanned,p.value=!1,_.value="Action réussie.",m.value="green",v.value=!0,r.value=!1)}catch(g){let f="Échec de l'action administrateur. Debugg: "+g;_.value=f,v.value=!0,r.value=!1}}function w(g){l.value=g,p.value=!0}return(g,f)=>{const V=s("v-spacer"),$=s("v-text-field"),E=s("v-card-title"),P=s("v-icon"),k=s("v-btn"),b=s("v-tooltip"),A=s("v-card"),C=s("v-card-text"),S=s("v-card-actions"),I=s("v-dialog"),T=s("v-row"),B=s("v-snackbar");return O(),te(H,null,[e(A,{width:"auto"},{default:t(()=>[e(E,null,{default:t(()=>[x(" Gestion des utilisateurs "),e(V),e($,{modelValue:d.value,"onUpdate:modelValue":f[0]||(f[0]=D=>d.value=D),clearable:"","append-icon":"mdi-magnify",label:"Search","single-line":"","hide-details":""},null,8,["modelValue"])]),_:1}),e(ge(ye),{loading:r.value,hover:"",headers:i.value,"items-per-page":c.value,"items-per-page-options":u,items:o.value,search:d.value,"items-per-page-text":"Utilisateur par page",pageText:"{0}-{1} de {2}",class:"elevation-1",a:""},{"item.action":t(({item:D})=>[e(b,{text:D.raw.isBanned?"Débloquer compte":"Bloquer compte"},{activator:t(({props:L})=>[e(k,M(L,{variant:"outlined",size:"small",icon:"",class:"mx-1",onClick:X=>w(D)}),{default:t(()=>[e(P,M(L,{icon:D.raw.isBanned?"mdi-lock-open":"mdi-lock-open-variant",color:D.raw.isBanned?"red":"green",class:"mx-1"}),null,16,["icon","color"])]),_:2},1040,["onClick"])]),_:2},1032,["text"])]),_:1},8,["loading","headers","items-per-page","items","search"])]),_:1}),F("template",null,[e(T,{justify:"center"},{default:t(()=>[e(I,{modelValue:p.value,"onUpdate:modelValue":f[3]||(f[3]=D=>p.value=D),persistent:"",width:"auto"},{default:t(()=>[e(A,null,{default:t(()=>[e(E,{class:"text-h5"},{default:t(()=>[x(" Confirmer l'action ")]),_:1}),e(C,null,{default:t(()=>[x("Veuillez confirmer votre décision pour "+N(l.value.raw.email)+".",1)]),_:1}),e(S,null,{default:t(()=>[e(V),e(k,{color:"green-darken-1",variant:"text",onClick:f[1]||(f[1]=D=>p.value=!1)},{default:t(()=>[x(" Annuler ")]),_:1}),e(k,{color:"green-darken-1",variant:"text",onClick:f[2]||(f[2]=D=>h())},{default:t(()=>[x(" Appliquer ")]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"])]),_:1})]),e(B,{modelValue:v.value,"onUpdate:modelValue":f[5]||(f[5]=D=>v.value=D),color:m.value,"multi-line":""},{actions:t(()=>[e(k,{color:"red",variant:"text",onClick:f[4]||(f[4]=D=>v.value=!1)},{default:t(()=>[x(" Close ")]),_:1})]),default:t(()=>[F("span",ma,N(_.value),1)]),_:1},8,["modelValue","color"])],64)}}}),fa=J({__name:"VoirExamen",props:{chapter:Object},setup(a){const n=a,o=new qt,l=y(!1),r=y(!1),p=y(),c=y(""),d=y(10),v=[{title:"Text",align:"start",sortable:!1,key:"questionContent"},{title:"Réponce",align:"center",sortable:!1,key:"answer.answer"},{title:"Type",align:"center",sortable:!1,key:"type.type"}],_=[{title:"5",value:5},{title:"10",value:10},{title:"15",value:15},{title:"25",value:25},{title:"100",value:100}];async function m(){try{if(r.value=!0,c.value="",n.chapter!==void 0){const i=await o.retrieveOne(n.chapter);i&&(p.value=i,r.value=!1)}}catch(i){throw i}}return(i,u)=>{const h=s("v-icon"),w=s("v-toolbar-title"),g=s("v-col"),f=s("v-text-field"),V=s("v-btn"),$=s("v-row"),E=s("v-card-title"),P=s("v-spacer"),k=s("v-card-text"),b=s("v-card-actions"),A=s("v-card"),C=s("v-dialog"),S=s("v-tooltip");return O(),ne(S,{text:"Voir examen du chapitre"},{activator:t(({props:I})=>[e(V,M(I,{variant:"outlined",size:"small",class:"mx-1",color:"orange",onClick:u[5]||(u[5]=T=>m())}),{default:t(()=>[e(h,{class:"mx-1",icon:"mdi-eye"}),x("Voir examen "),e(C,{activator:"parent",width:"150vh",modelValue:l.value,"onUpdate:modelValue":u[4]||(u[4]=T=>l.value=T),transition:"dialog-bottom-transition"},{default:t(()=>[e(A,{width:"auto"},{default:t(()=>[e(E,null,{default:t(()=>[e($,null,{default:t(()=>[e(g,{cols:"8"},{default:t(()=>[e(w,null,{default:t(()=>{var T;return[x(" Examen ("+N((T=p.value)==null?void 0:T.questions.length)+" questions) ",1)]}),_:1})]),_:1}),e(g,{cols:"3"},{default:t(()=>[e(f,{modelValue:c.value,"onUpdate:modelValue":u[0]||(u[0]=T=>c.value=T),clearable:"",label:"Search","single-line":"","hide-details":""},null,8,["modelValue"])]),_:1}),e(g,{cols:"1"},{default:t(()=>[e(V,{icon:"",size:"small",color:"red",onClick:u[1]||(u[1]=T=>l.value=!1)},{default:t(()=>[e(h,null,{default:t(()=>[x("mdi-close")]),_:1})]),_:1})]),_:1})]),_:1})]),_:1}),e(k,null,{default:t(()=>{var T;return[e(P),e(f,{modelValue:c.value,"onUpdate:modelValue":u[2]||(u[2]=B=>c.value=B),clearable:"","append-icon":"mdi-magnify",label:"Search","single-line":"","hide-details":""},null,8,["modelValue"]),e(ge(ye),{loading:r.value,hover:"",headers:v,"item-key":"id_question","items-per-page":d.value,"items-per-page-options":_,items:(T=p.value)==null?void 0:T.questions,search:c.value,"items-per-page-text":"Questions par page",pageText:"{0}-{1} de {2}",class:"elevation-1"},null,8,["loading","items-per-page","items","search"])]}),_:1}),e(b,null,{default:t(()=>[e(V,{color:"red",onClick:u[3]||(u[3]=T=>l.value=!1)},{default:t(()=>[x("Fermer")]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"])]),_:2},1040)]),_:1})}}});class Ae{constructor(){K(this,"axios",ue("axios"))}async retrieveQuestionTypes(){try{const n=await this.axios.get(`${se}/api/questionTypes`);if(n.status===200)return n.data}catch(n){throw n}}async addQuestionType(n){try{let o=JSON.stringify(n);const l=await this.axios.post(`${se}/api/admin/questionTypes`,o);if(l.status===201)return l.data}catch(o){throw o}}async modifyOne(n){try{let o=JSON.stringify(n);const l=await this.axios.patch(`${se}/api/admin/questions/${n.id_question}`,o);if(l.status===200)return l.data[0]}catch(o){throw o}}async add(n,o){try{let l=JSON.stringify(n);if((await this.axios.post(`${se}/api/admin/chapters/${o.id_chapter}`,l)).status===201)return!0}catch(l){throw l}}async deleteQestion(n){try{if((await this.axios.delete(`${se}/api/admin/questions/${n.id_question}`)).status===200)return!0}catch(o){throw o}}async toggleExam(n){try{const o=await this.axios.post(`${se}/api/admin/questions/${n.id_question}?action=toggleExam`);if(o.status===200)return o.data}catch(o){throw o}}async getAllQuestionTypes(){try{const n=await this.axios.get(`${se}/api/questionTypes`);if(n.status===200)return n.data}catch(n){throw n}}}const ct=J({__name:"AjouterReponse",props:{showAddAnswer:Boolean},emits:["addAnswer","toggle"],setup(a,{emit:n}){const o=a,l=y(new pe),r=y(),p=y(!1),c=y(!1);we(()=>o.showAddAnswer,m=>{m?(l.value=new pe,c.value=!0):c.value=!1});const d={required:m=>!!m||"Ce champ est requis",counter:m=>m.length<=255||"Le maximum de caractères est de 255",notEmpty:m=>m.length>0||"Le champ ne peut pas être vide"};async function v(){const{valid:m}=await r.value.validate();m?(n("addAnswer",l.value),n("toggle",!1)):alert("Answer invalide")}function _(){l.value=new pe,n("toggle",!1)}return(m,i)=>{const u=s("v-card-title"),h=s("v-textarea"),w=s("v-form"),g=s("v-card-text"),f=s("v-btn"),V=s("v-card-actions"),$=s("v-card"),E=s("v-dialog");return O(),ne(E,{"max-width":"50vh",persistent:"",modelValue:c.value,"onUpdate:modelValue":i[3]||(i[3]=P=>c.value=P),transition:"dialog-bottom-transition"},{default:t(()=>[e($,{loading:p.value},{default:t(()=>[e(u,null,{default:t(()=>[x("Ajouter une réponse")]),_:1}),e(g,null,{default:t(()=>[e(w,{ref_key:"form",ref:r},{default:t(()=>[e(h,{clearable:"","auto-grow":"",label:"Réponse",modelValue:l.value.answer,"onUpdate:modelValue":i[0]||(i[0]=P=>l.value.answer=P),rows:"1",rules:[d.required,d.notEmpty,d.counter],counter:"255"},null,8,["modelValue","rules"])]),_:1},512)]),_:1}),e(V,null,{default:t(()=>[e(f,{color:"red",onClick:i[1]||(i[1]=P=>_())},{default:t(()=>[x("Annuler")]),_:1}),e(f,{color:"green",onClick:i[2]||(i[2]=P=>v())},{default:t(()=>[x("Ajouter")]),_:1})]),_:1})]),_:1},8,["loading"])]),_:1},8,["modelValue"])}}}),vt=J({__name:"AjouterQuestionType",props:{showAddType:Boolean},emits:["addType","toggle"],setup(a,{emit:n}){const o=a,l=y(new fe),r=y(),p=y(!1),c=y(!1);we(()=>o.showAddType,m=>{m?(l.value=new fe,c.value=!0):c.value=!1});const d={required:m=>!!m||"Ce champ est requis",counter:m=>m.length<=60||"Le maximum de caractères est de 255",notEmpty:m=>m.length>0||"Le champ ne peut pas être vide"};async function v(){const{valid:m}=await r.value.validate();m?(n("addType",l.value),n("toggle",!1)):alert("Type invalide")}function _(){l.value=new fe,n("toggle",!1)}return(m,i)=>{const u=s("v-card-title"),h=s("v-textarea"),w=s("v-form"),g=s("v-card-text"),f=s("v-btn"),V=s("v-card-actions"),$=s("v-card"),E=s("v-dialog");return O(),ne(E,{"max-width":"50vh",persistent:"",modelValue:c.value,"onUpdate:modelValue":i[3]||(i[3]=P=>c.value=P),transition:"dialog-bottom-transition"},{default:t(()=>[e($,{loading:p.value},{default:t(()=>[e(u,null,{default:t(()=>[x("Ajouter un type de question")]),_:1}),e(g,null,{default:t(()=>[e(w,{ref_key:"form",ref:r},{default:t(()=>[e(h,{clearable:"","auto-grow":"",label:"Nom du nouveau type",modelValue:l.value.type,"onUpdate:modelValue":i[0]||(i[0]=P=>l.value.type=P),rows:"1",rules:[d.required,d.notEmpty,d.counter],counter:"60"},null,8,["modelValue","rules"])]),_:1},512)]),_:1}),e(V,null,{default:t(()=>[e(f,{color:"red",onClick:i[1]||(i[1]=P=>_())},{default:t(()=>[x("Annuler")]),_:1}),e(f,{color:"green",onClick:i[2]||(i[2]=P=>v())},{default:t(()=>[x("Ajouter")]),_:1})]),_:1})]),_:1},8,["loading"])]),_:1},8,["modelValue"])}}}),_a=J({__name:"AjouterQuestion",props:{chapter:Object},emits:["addQuestion"],setup(a,{emit:n}){const o=a,l=y(!1);let r=!1,p=!1;const c=y(!1),d=y(!1),v=y(!1),_=y(!1),m=new He,i=new Ae,u=y(new he),h=y([]),w=y([]),g=y(),f={required:k=>!!k||"Ce champ est requis",counter255:k=>k.length<=255||"Le maximum de caractères est de 255",counter65000:k=>k.length<=65e3||"Le maximum de caractères est de 255",notEmpty:k=>k.length>0||"Ce champ ne peut pas être vide"};async function V(){l.value=!0,u.value=new he,o.chapter!==void 0&&(h.value=await m.retrieveAllFromChapter(o.chapter)),w.value=await i.retrieveQuestionTypes(),l.value=!1}async function $(k){try{if(l.value=!0,o.chapter!==void 0){const b=await m.add(k,o.chapter);u.value.answer=b[0],h.value.push(b[0]),l.value=!1}}catch{r=!1,l.value=!1,alert("Création impossible, réponse déjà en disponible en sélection."),u.value.answer=new pe}}async function E(k){try{if(l.value=!0,o.chapter!==void 0){const b=await i.addQuestionType(k);u.value.type=b[0],w.value.push(b[0]),l.value=!1}}catch{p=!1,l.value=!1,alert("Création impossible, type de question déjà disponible en sélection."),u.value.type=new fe}}async function P(){const{valid:k}=await g.value.validate();k&&(d.value=!1,o.chapter!==void 0?(r&&(l.value=!0,await $(u.value.answer),r=!1,l.value=!1),p&&(l.value=!0,await E(u.value.type),p=!1,l.value=!1),u.value.answer.id_answer!==0&&u.value.type.id_questionType!==0&&(n("addQuestion",u.value,o.chapter),c.value=!1)):(d.value=!1,alert("Question invalide")))}return(k,b)=>{const A=s("v-icon"),C=s("v-card-title"),S=s("v-textarea"),I=s("v-col"),T=s("v-checkbox"),B=s("v-list-item"),D=s("v-divider"),L=s("v-select"),X=s("v-row"),ae=s("v-form"),W=s("v-card-text"),z=s("v-btn"),le=s("v-card-actions"),Y=s("v-card"),Z=s("v-dialog"),j=s("v-tooltip"),U=s("v-spacer");return O(),te(H,null,[e(j,{text:"Ajouter une nouvelle question au chapitre"},{activator:t(({props:Q})=>[e(z,M(Q,{variant:"outlined",size:"small",color:"yellow",class:"mx-1",onClick:b[11]||(b[11]=q=>V())}),{default:t(()=>[e(A,{class:"mx-1",icon:"mdi-plus-thick"}),x("Ajouter une question "),e(Z,{activator:"parent",width:"150vh",persistent:"",modelValue:c.value,"onUpdate:modelValue":b[10]||(b[10]=q=>c.value=q),transition:"dialog-bottom-transition"},{default:t(()=>[e(Y,{loading:l.value},{default:t(()=>[e(C,null,{default:t(()=>{var q;return[x("Ajouter une question: "+N((q=a.chapter)==null?void 0:q.title),1)]}),_:1}),e(W,null,{default:t(()=>[e(ae,{ref_key:"form",ref:g},{default:t(()=>[e(X,null,{default:t(()=>[e(I,{cols:"10"},{default:t(()=>[e(S,{clearable:"","auto-grow":"",label:"Contenu de la question",modelValue:u.value.questionContent,"onUpdate:modelValue":b[0]||(b[0]=q=>u.value.questionContent=q),rows:"1",rules:[f.required,f.counter255,f.notEmpty],counter:"255"},null,8,["modelValue","rules"])]),_:1}),e(I,{cols:"2"},{default:t(()=>[e(T,{modelValue:u.value.isExamQuestion,"onUpdate:modelValue":b[1]||(b[1]=q=>u.value.isExamQuestion=q),label:u.value.isExamQuestion?"À l'examen":"Aux exercices"},null,8,["modelValue","label"])]),_:1}),e(I,{cols:"2"},{default:t(()=>[e(L,{label:"Réponses",modelValue:u.value.answer,"onUpdate:modelValue":b[3]||(b[3]=q=>u.value.answer=q),items:h.value,"item-title":"answer","return-object":""},{"prepend-item":t(()=>[e(B,{title:"Nouvelle réponse",onClick:b[2]||(b[2]=q=>v.value=!0)}),e(D,{class:"mt-2"})]),_:1},8,["modelValue","items"])]),_:1}),e(I,{cols:"2"},{default:t(()=>[e(L,{label:"Type de question",modelValue:u.value.type,"onUpdate:modelValue":b[5]||(b[5]=q=>u.value.type=q),items:w.value,"item-title":"type","return-object":""},{"prepend-item":t(()=>[e(B,{title:"Nouveau type",onClick:b[4]||(b[4]=q=>_.value=!0)}),e(D,{class:"mt-2"})]),_:1},8,["modelValue","items"])]),_:1}),e(I,{cols:"8"},{default:t(()=>[e(S,{clearable:"",label:"Indice",modelValue:u.value.hints,"onUpdate:modelValue":b[6]||(b[6]=q=>u.value.hints=q),rules:[f.required,f.counter255,f.notEmpty],"auto-grow":"",rows:"1",counter:"255"},null,8,["modelValue","rules"])]),_:1}),e(I,{cols:"12"},{default:t(()=>[e(S,{clearable:"",label:"Explication en cas d'erreur",modelValue:u.value.explicationErreur,"onUpdate:modelValue":b[7]||(b[7]=q=>u.value.explicationErreur=q),rules:[f.required,f.counter65000,f.notEmpty],"auto-grow":"",rows:"1",counter:"65000"},null,8,["modelValue","rules"])]),_:1})]),_:1})]),_:1},512)]),_:1}),e(le,null,{default:t(()=>[e(z,{color:"red",onClick:b[8]||(b[8]=q=>c.value=!1)},{default:t(()=>[x("Annuler")]),_:1}),e(z,{color:"green",onClick:b[9]||(b[9]=q=>d.value=!0)},{default:t(()=>[x("Créer")]),_:1})]),_:1})]),_:1},8,["loading"])]),_:1},8,["modelValue"])]),_:2},1040)]),_:1}),e(ct,{showAddAnswer:v.value,onAddAnswer:b[12]||(b[12]=Q=>(u.value.answer=Q,xe(r)?r.value=!0:r=!0)),onToggle:b[13]||(b[13]=Q=>v.value=!1)},null,8,["showAddAnswer"]),e(vt,{showAddType:_.value,onAddType:b[14]||(b[14]=Q=>(u.value.type=Q,xe(p)?p.value=!0:p=!0)),onToggle:b[15]||(b[15]=Q=>_.value=!1)},null,8,["showAddType"]),F("template",null,[e(X,{justify:"center"},{default:t(()=>[e(Z,{modelValue:d.value,"onUpdate:modelValue":b[18]||(b[18]=Q=>d.value=Q),persistent:"",width:"auto"},{default:t(()=>[e(Y,null,{default:t(()=>[e(C,{class:"text-h5"},{default:t(()=>[x(" Confirmer l'action ")]),_:1}),e(W,null,{default:t(()=>[x("Veuillez confirmer la création de votre question.")]),_:1}),e(le,null,{default:t(()=>[e(U),e(z,{color:"green-darken-1",variant:"text",onClick:b[16]||(b[16]=Q=>d.value=!1)},{default:t(()=>[x(" Annuler ")]),_:1}),e(z,{color:"green-darken-1",variant:"text",onClick:b[17]||(b[17]=Q=>P())},{default:t(()=>[x(" Créer ")]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"])]),_:1})])],64)}}});class $e{constructor(n="",o="",l=0){K(this,"id_chapter",0);K(this,"title");K(this,"description");K(this,"difficultyLevel");K(this,"presentationOrder",0);K(this,"isEnable",!1);K(this,"questions_href","");K(this,"answers_href","");K(this,"awards_href","");K(this,"exam_href","");this.title=n,this.description=o,this.difficultyLevel=l}}const ga=J({__name:"AjouterChapitre",emits:["addChapter"],setup(a,{emit:n}){const o=y(!1),l=y(!1),r=y(!1),p=y(),c=y(new $e),d={required:m=>!!m||"Ce champ est requis",title:m=>m.length<120||"Le maximum de caractères est de 120",counter255:m=>m.length<=255||"Le maximum de caractères est de 255",notEmpty:m=>m.length>0||"Le champ ne peut pas être vide",counter65000:m=>m.length<=65e3||"Le maximum de caractères est de 65000"};function v(){o.value=!0,c.value=new $e,o.value=!1}async function _(){const{valid:m}=await p.value.validate();m?(l.value=!1,n("addChapter",c.value),r.value=!1):alert("Chapitre invalide")}return(m,i)=>{const u=s("v-icon"),h=s("v-card-title"),w=s("v-text-field"),g=s("v-col"),f=s("v-textarea"),V=s("v-rating"),$=s("v-card-text"),E=s("v-card"),P=s("v-checkbox"),k=s("v-spacer"),b=s("v-row"),A=s("v-form"),C=s("v-btn"),S=s("v-card-actions"),I=s("v-dialog"),T=s("v-tooltip");return O(),te(H,null,[e(T,{text:"Ajouter un chapitre à la collection"},{activator:t(({props:B})=>[e(C,M(B,{variant:"outlined",size:"small",class:"my-1",color:"green",onClick:i[7]||(i[7]=D=>v())}),{default:t(()=>[e(u,{icon:"mdi-plus-thick"}),x("Ajouter un chapitre "),e(I,{activator:"parent",width:"150vh","max-rows":"3",persistent:"",modelValue:r.value,"onUpdate:modelValue":i[6]||(i[6]=D=>r.value=D),transition:"dialog-bottom-transition"},{default:t(()=>[e(E,{loading:o.value},{default:t(()=>[e(h,null,{default:t(()=>[x("Ajout d'un chapitre")]),_:1}),e(A,{ref_key:"form",ref:p},{default:t(()=>[e(E,{title:"Information sur le chapitre",flat:""},{default:t(()=>[e($,null,{default:t(()=>[e(b,null,{default:t(()=>[e(g,{cols:"12"},{default:t(()=>[e(w,{class:"mb-3",clearable:"",label:"Titre du chapitre",modelValue:c.value.title,"onUpdate:modelValue":i[0]||(i[0]=D=>c.value.title=D),rules:[d.required,d.notEmpty,d.title],counter:"120"},null,8,["modelValue","rules"])]),_:1}),e(g,{cols:"12"},{default:t(()=>[e(f,{clearable:"",label:"Description",modelValue:c.value.description,"onUpdate:modelValue":i[1]||(i[1]=D=>c.value.description=D),rules:[d.required,d.notEmpty,d.counter65000],rows:"4",counter:"65000"},null,8,["modelValue","rules"])]),_:1}),e(g,{cols:"6"},{default:t(()=>[e(E,{elevation:"0"},{default:t(()=>[e(h,null,{default:t(()=>[x("Difficulté")]),_:1}),e($,null,{default:t(()=>[e(V,{modelValue:c.value.difficultyLevel,"onUpdate:modelValue":i[2]||(i[2]=D=>c.value.difficultyLevel=D),"item-labels":["débutant","","Intermédiaire","","avancé"],"item-label-position":"top"},null,8,["modelValue"])]),_:1})]),_:1})]),_:1}),e(g,{cols:"6"},{default:t(()=>[e(E,{elevation:"0"},{default:t(()=>[e(h,null,{default:t(()=>[x("État du chapitre (mode édition à la création)")]),_:1}),e($,null,{default:t(()=>[e(P,{modelValue:c.value.isEnable,"onUpdate:modelValue":i[3]||(i[3]=D=>c.value.isEnable=D),disabled:"",label:c.value.isEnable?"Chapitre visible aux utilisateurs":"Chapitre en mode édition"},null,8,["modelValue","label"])]),_:1})]),_:1})]),_:1}),e(k)]),_:1})]),_:1})]),_:1})]),_:1},512),e(S,null,{default:t(()=>[e(C,{color:"red",onClick:i[4]||(i[4]=D=>r.value=!1)},{default:t(()=>[x("Annuler")]),_:1}),e(C,{color:"green",onClick:i[5]||(i[5]=D=>l.value=!0)},{default:t(()=>[x("Ajouter")]),_:1})]),_:1})]),_:1},8,["loading"])]),_:1},8,["modelValue"])]),_:2},1040)]),_:1}),F("template",null,[e(b,{justify:"center"},{default:t(()=>[e(I,{modelValue:l.value,"onUpdate:modelValue":i[10]||(i[10]=B=>l.value=B),persistent:"",width:"auto"},{default:t(()=>[e(E,null,{default:t(()=>[e(h,{class:"text-h5"},{default:t(()=>[x(" Confirmer l'action ")]),_:1}),e($,null,{default:t(()=>[x("Veuillez confirmer la création du chapitre < "+N(c.value.title)+" >.",1)]),_:1}),e(S,null,{default:t(()=>[e(k),e(C,{color:"green-darken-1",variant:"text",onClick:i[8]||(i[8]=B=>l.value=!1)},{default:t(()=>[x(" Annuler ")]),_:1}),e(C,{color:"green-darken-1",variant:"text",onClick:i[9]||(i[9]=B=>_())},{default:t(()=>[x(" Créer ")]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"])]),_:1})])],64)}}}),ya=F("ul",null,[F("li",{style:{"font-weight":"bold","list-style":"none"}}," Attention, cette option affiche le chapitre aux utilisateurs si activé. "),F("li",null,"Vérifier que des questions sont disponibles"),F("li",null,"Vérifier qu'un examen est disponible"),F("li",null,"Vérifier que des récompenses sont disponibles")],-1),ba=J({__name:"ModificationChapitre",props:{chapter:Object},emits:["modifyChapter"],setup(a,{emit:n}){const o=a,l=y(!1),r=y(!1),p=y(!1),c=y(),d=y(new $e),v={required:i=>!!i||"Ce champ est requis",title:i=>i.length<120||"Le maximum de caractères est de 120",counter255:i=>i.length<=255||"Le maximum de caractères est de 255",notEmpty:i=>i.length>0||"Le champ ne peut pas être vide",counter65000:i=>i.length<=65e3||"Le maximum de caractères est de 65000"};async function _(){l.value=!0,o.chapter!==void 0&&(d.value=Object.assign({},o.chapter)),l.value=!1}async function m(){r.value=!1;const{valid:i}=await c.value.validate();i?(n("modifyChapter",d.value),p.value=!1):alert("Chapitre invalide")}return(i,u)=>{const h=s("v-icon"),w=s("v-card-title"),g=s("v-text-field"),f=s("v-col"),V=s("v-textarea"),$=s("v-rating"),E=s("v-card-text"),P=s("v-card"),k=s("v-checkbox"),b=s("v-row"),A=s("v-form"),C=s("v-btn"),S=s("v-card-actions"),I=s("v-dialog"),T=s("v-tooltip"),B=s("v-spacer");return O(),te(H,null,[e(T,{text:"Modifier le chapitre courant"},{activator:t(({props:D})=>[e(C,M(D,{variant:"outlined",size:"small",color:"yellow",class:"my-1 mx-1",onClick:u[7]||(u[7]=L=>_())}),{default:t(()=>[e(h,{icon:"mdi-plus-thick"}),x("Modifier le chapitre "),e(I,{activator:"parent",width:"150vh","max-rows":"3",persistent:"",modelValue:p.value,"onUpdate:modelValue":u[6]||(u[6]=L=>p.value=L),transition:"dialog-bottom-transition"},{default:t(()=>[e(P,{loading:l.value},{default:t(()=>[e(w,null,{default:t(()=>[x("Modification du chapitre: < "+N(d.value.title)+" >",1)]),_:1}),e(A,{ref_key:"form",ref:c},{default:t(()=>[e(E,null,{default:t(()=>[e(b,null,{default:t(()=>[e(f,{cols:"12"},{default:t(()=>[e(g,{class:"mb-3",clearable:"",label:"Titre du chapitre",modelValue:d.value.title,"onUpdate:modelValue":u[0]||(u[0]=L=>d.value.title=L),rules:[v.required,v.notEmpty,v.title],counter:"120"},null,8,["modelValue","rules"])]),_:1}),e(f,{cols:"12"},{default:t(()=>[e(V,{clearable:"",label:"Description",modelValue:d.value.description,"onUpdate:modelValue":u[1]||(u[1]=L=>d.value.description=L),rules:[v.required,v.notEmpty,v.counter65000],rows:"4",counter:"65000"},null,8,["modelValue","rules"])]),_:1}),e(f,{cols:"6"},{default:t(()=>[e(P,{elevation:"0"},{default:t(()=>[e(w,null,{default:t(()=>[x("Difficulté")]),_:1}),e(E,null,{default:t(()=>[e($,{modelValue:d.value.difficultyLevel,"onUpdate:modelValue":u[2]||(u[2]=L=>d.value.difficultyLevel=L),"item-labels":["débutant","","Intermédiaire","","avancé"],"item-label-position":"top"},null,8,["modelValue"])]),_:1})]),_:1})]),_:1}),e(f,{cols:"6"},{default:t(()=>[e(P,{elevation:"0"},{default:t(()=>[e(w,null,{default:t(()=>[x("État du chapitre")]),_:1}),e(E,null,{default:t(()=>[e(k,{modelValue:d.value.isEnable,"onUpdate:modelValue":u[3]||(u[3]=L=>d.value.isEnable=L),label:d.value.isEnable?"Chapitre visible aux utilisateurs":"Chapitre en mode édition"},null,8,["modelValue","label"]),ya]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1},512),e(S,null,{default:t(()=>[e(C,{color:"red",onClick:u[4]||(u[4]=L=>p.value=!1)},{default:t(()=>[x("Annuler")]),_:1}),e(C,{color:"green",onClick:u[5]||(u[5]=L=>r.value=!0)},{default:t(()=>[x("Modifier")]),_:1})]),_:1})]),_:1},8,["loading"])]),_:1},8,["modelValue"])]),_:2},1040)]),_:1}),F("template",null,[e(b,{justify:"center"},{default:t(()=>[e(I,{modelValue:r.value,"onUpdate:modelValue":u[10]||(u[10]=D=>r.value=D),persistent:"",width:"auto"},{default:t(()=>[e(P,null,{default:t(()=>[e(w,{class:"text-h5"},{default:t(()=>[x(" Confirmer l'action ")]),_:1}),e(E,null,{default:t(()=>[x("Veuillez confirmer la modification du chapitre < "+N(d.value.title)+" >.",1)]),_:1}),e(S,null,{default:t(()=>[e(B),e(C,{color:"green-darken-1",variant:"text",onClick:u[8]||(u[8]=D=>r.value=!1)},{default:t(()=>[x(" Annuler ")]),_:1}),e(C,{color:"green-darken-1",variant:"text",onClick:u[9]||(u[9]=D=>m())},{default:t(()=>[x(" Modifier ")]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"])]),_:1})])],64)}}}),wa=J({__name:"ModificationQuestion",props:{chapter:Object,activeQuestion:Object},emits:["modify"],setup(a,{emit:n}){const o=a,l=y(!1),r=y(!1),p=new He,c=new Ae;let d=!1,v=!1;const _=y(!1),m=y(!1),i=y(!1),u=y([]),h=y([]),w=y(new he),g=y(new he),f=y(),V={required:b=>!!b||"Ce champ est requis",counter255:b=>b.length<=255||"Le maximum de caractères est de 255",counter65000:b=>b.length<=65e3||"Le maximum de caractères est de 65000",notEmpty:b=>b.length>0||"Ce champ ne peut pas être vide"};async function $(){l.value=!0,o.chapter!==void 0&&(u.value=await p.retrieveAllFromChapter(o.chapter)),h.value=await c.retrieveQuestionTypes(),o.activeQuestion!==void 0&&(g.value=Object.assign({},o.activeQuestion),w.value=o.activeQuestion,l.value=!1,r.value=!0)}async function E(){const{valid:b}=await f.value.validate();b?(_.value=!1,d&&(l.value=!0,await k(g.value.answer),d=!1,l.value=!1),v&&(l.value=!0,await P(g.value.type),v=!1,l.value=!1),g.value.answer.id_answer!==0&&g.value.type.id_questionType!==0&&(w.value.questionContent=g.value.questionContent,w.value.explicationErreur=g.value.explicationErreur,w.value.hints=g.value.hints,w.value.answer=g.value.answer,w.value.type=g.value.type,n("modify",w.value),r.value=!1)):(_.value=!1,alert("Question invalide"))}async function P(b){try{if(l.value=!0,o.chapter!==void 0){const A=await c.addQuestionType(b);g.value.type=A[0],h.value.push(A[0]),l.value=!1}}catch{v=!1,l.value=!1,alert("Création impossible, réponse déjà en disponible en sélection."),g.value.type=new fe}}async function k(b){try{if(l.value=!0,o.chapter!==void 0){const A=await p.add(b,o.chapter);g.value.answer=A[0],u.value.push(A[0]),l.value=!1}}catch{d=!1,l.value=!1,alert("Création impossible, réponse déjà en disponible en sélection."),g.value.answer=new pe}}return(b,A)=>{const C=s("v-icon"),S=s("v-tooltip"),I=s("v-card-title"),T=s("v-textarea"),B=s("v-col"),D=s("v-list-item"),L=s("v-divider"),X=s("v-select"),ae=s("v-row"),W=s("v-form"),z=s("v-card-text"),le=s("v-btn"),Y=s("v-card-actions"),Z=s("v-card"),j=s("v-dialog");return O(),te(H,null,[e(S,{text:"Modifier la question"},{activator:t(({props:U})=>[e(C,M(U,{icon:"mdi-square-edit-outline",color:"green",onClick:A[0]||(A[0]=Q=>$())}),null,16)]),_:1}),e(j,{width:"150vh",persistent:"",modelValue:r.value,"onUpdate:modelValue":A[10]||(A[10]=U=>r.value=U),transition:"dialog-bottom-transition"},{default:t(()=>[e(Z,{loading:l.value},{default:t(()=>[e(I,null,{default:t(()=>[x("Modifier une question")]),_:1}),e(z,null,{default:t(()=>[e(W,{ref_key:"form",ref:f},{default:t(()=>[e(ae,null,{default:t(()=>[e(B,{cols:"12"},{default:t(()=>[e(T,{clearable:"","auto-grow":"",label:"Contenu de la question",modelValue:g.value.questionContent,"onUpdate:modelValue":A[1]||(A[1]=U=>g.value.questionContent=U),rows:"1",rules:[V.required,V.counter255,V.notEmpty],counter:"255"},null,8,["modelValue","rules"])]),_:1}),e(B,{cols:"2"},{default:t(()=>[e(X,{label:"Réponses",modelValue:g.value.answer,"onUpdate:modelValue":A[3]||(A[3]=U=>g.value.answer=U),items:u.value,"item-title":"answer","return-object":""},{"prepend-item":t(()=>[e(D,{title:"Nouvelle réponse",onClick:A[2]||(A[2]=U=>m.value=!0)}),e(L,{class:"mt-2"})]),_:1},8,["modelValue","items"])]),_:1}),e(B,{cols:"2"},{default:t(()=>[e(X,{label:"Type de question",modelValue:g.value.type,"onUpdate:modelValue":A[5]||(A[5]=U=>g.value.type=U),items:h.value,"item-title":"type","return-object":""},{"prepend-item":t(()=>[e(D,{title:"Nouveau type",onClick:A[4]||(A[4]=U=>i.value=!0)}),e(L,{class:"mt-2"})]),_:1},8,["modelValue","items"])]),_:1}),e(B,{cols:"8"},{default:t(()=>[e(T,{clearable:"",label:"Indice",modelValue:g.value.hints,"onUpdate:modelValue":A[6]||(A[6]=U=>g.value.hints=U),rules:[V.required,V.counter255,V.notEmpty],"auto-grow":"",rows:"1",counter:"255"},null,8,["modelValue","rules"])]),_:1}),e(B,{cols:"12"},{default:t(()=>[e(T,{clearable:"",label:"Explication en cas d'erreur",modelValue:g.value.explicationErreur,"onUpdate:modelValue":A[7]||(A[7]=U=>g.value.explicationErreur=U),rules:[V.required,V.counter65000,V.notEmpty],"auto-grow":"",rows:"1",counter:"65000"},null,8,["modelValue","rules"])]),_:1})]),_:1})]),_:1},512)]),_:1}),e(Y,null,{default:t(()=>[e(le,{color:"red",onClick:A[8]||(A[8]=U=>r.value=!1)},{default:t(()=>[x("Annuler")]),_:1}),e(le,{color:"green",onClick:A[9]||(A[9]=U=>E())},{default:t(()=>[x("Modifier")]),_:1})]),_:1})]),_:1},8,["loading"])]),_:1},8,["modelValue"]),e(ct,{showAddAnswer:m.value,onAddAnswer:A[11]||(A[11]=U=>(g.value.answer=U,xe(d)?d.value=!0:d=!0)),onToggle:A[12]||(A[12]=U=>m.value=!1)},null,8,["showAddAnswer"]),e(vt,{showAddType:i.value,onAddType:A[13]||(A[13]=U=>(g.value.type=U,xe(v)?v.value=!0:v=!0)),onToggle:A[14]||(A[14]=U=>i.value=!1)},null,8,["showAddType"])],64)}}}),xa={style:{"font-weight":"14",color:"black"}},ha=J({__name:"VoirQuestionsChapitre",props:{chapter:Object},setup(a){const n=a,o=new Ae,l=new Je,r=y(!1),p=y(!1),c=y(!1),d=y(!1),v=y(!1),_=y(),m=y(),i=y([]),u=y(),h=y(""),w=y(10),g=y(0),f=[{title:"Text",align:"start",sortable:!1,key:"questionContent"},{title:"Réponce",align:"center",sortable:!1,key:"answer.answer"},{title:"Type",align:"center",key:"type.type"},{title:"Exam",align:"center",sortable:!0,key:"isExamQuestion"},{title:"Actions",align:"end",sortable:!1,key:"actions"}],V=[{title:"5",value:5},{title:"10",value:10},{title:"15",value:15},{title:"25",value:25},{title:"100",value:100}];async function $(){try{if(p.value=!0,h.value="",n.chapter!==void 0){const C=await l.retrieveAllChapterQuestionsAsAdmin(n.chapter);C&&(i.value=C,p.value=!1)}}catch(C){throw C}}async function E(){try{d.value=!1;let C=u.value.raw;const S=await o.toggleExam(C);if(S){C.isExamQuestion=S.isExamQuestion,d.value=!1;let I=C.isExamQuestion?"La question est maintenant à l'examen.":"La question n'est plus à l'examen.";_.value=I,m.value="green",v.value=!0}}catch(C){let S="Échec de l'action administrateur. Debugg: "+C;_.value=S,v.value=!0}}async function P(C){try{p.value=!0,await o.modifyOne(C)&&(_.value="Action réussite.",m.value="green",v.value=!0,p.value=!1)}catch(S){let I="Échec de l'action administrateur. Debugg: "+S;_.value=I,v.value=!0,p.value=!1}}function k(C){c.value=!0,g.value=C}async function b(){try{p.value=!0,c.value=!1;let C=i.value[g.value];await o.deleteQestion(C)&&(i.value.splice(g.value,1),_.value="Action réussite.",m.value="green",v.value=!0,p.value=!1)}catch(C){let S="Échec de l'action administrateur. Debugg: "+C;_.value=S,v.value=!0,p.value=!1}}function A(C){u.value=C,d.value=!0}return(C,S)=>{const I=s("v-icon"),T=s("v-btn"),B=s("v-toolbar-title"),D=s("v-col"),L=s("v-text-field"),X=s("v-row"),ae=s("v-card-title"),W=s("v-spacer"),z=s("v-tooltip"),le=s("v-card-text"),Y=s("v-card-actions"),Z=s("v-card"),j=s("v-snackbar"),U=s("v-dialog");return O(),te(H,null,[e(z,{text:"Lister les questions du chapitre"},{activator:t(({props:Q})=>[e(T,M(Q,{variant:"outlined",size:"small",class:"mx-1",onClick:S[0]||(S[0]=q=>$())}),{default:t(()=>[e(I,{class:"mx-1",icon:"mdi-eye"}),x("Voir questions")]),_:2},1040),e(U,{activator:"parent",width:"150vh",closable:"",persistent:"",modelValue:r.value,"onUpdate:modelValue":S[6]||(S[6]=q=>r.value=q),transition:"dialog-bottom-transition"},{default:t(()=>[e(Z,{width:"auto"},{default:t(()=>[e(ae,null,{default:t(()=>[e(X,null,{default:t(()=>[e(D,{cols:"8"},{default:t(()=>[e(B,null,{default:t(()=>{var q;return[x(N((q=a.chapter)==null?void 0:q.title)+" - "+N(i.value.length),1)]}),_:1})]),_:1}),e(D,{cols:"3"},{default:t(()=>[e(L,{modelValue:h.value,"onUpdate:modelValue":S[1]||(S[1]=q=>h.value=q),clearable:"",label:"Search","single-line":"","hide-details":""},null,8,["modelValue"])]),_:1}),e(D,{cols:"1"},{default:t(()=>[e(T,{icon:"",size:"small",color:"red",onClick:S[2]||(S[2]=q=>r.value=!1)},{default:t(()=>[e(I,null,{default:t(()=>[x("mdi-close")]),_:1})]),_:1})]),_:1})]),_:1})]),_:1}),e(le,null,{default:t(()=>[e(W),e(L,{modelValue:h.value,"onUpdate:modelValue":S[3]||(S[3]=q=>h.value=q),clearable:"","append-icon":"mdi-magnify",label:"Search","single-line":"","hide-details":""},null,8,["modelValue"]),e(ge(ye),{loading:p.value,hover:"",headers:f,"item-key":"id_question","items-per-page":w.value,"items-per-page-options":V,items:i.value,search:h.value,"items-per-page-text":"Utilisateur par page",pageText:"{0}-{1} de {2}",class:"elevation-1"},{"item.isExamQuestion":t(({item:q})=>[e(z,{text:"Est-ce une question d'examen ?"},{activator:t(({props:ve})=>[e(I,M(ve,{size:"small",color:q.raw.isExamQuestion?"green":"blue",class:"mx-1",onClick:oe=>A(q)}),{default:t(()=>[x(" mdi-check-outline ")]),_:2},1040,["color","onClick"])]),_:2},1024)]),"item.actions":t(({item:q})=>[e(wa,{activeQuestion:q.raw,chapter:a.chapter,onModify:P},null,8,["activeQuestion","chapter"]),e(z,{text:"Supprimer la question"},{activator:t(({props:ve})=>[e(I,M(ve,{size:"small",color:"red",class:"mx-1",onClick:oe=>k(q.index)}),{default:t(()=>[x(" mdi-delete ")]),_:2},1040,["onClick"])]),_:2},1024)]),_:2},1032,["loading","items-per-page","items","search"])]),_:2},1024),e(Y)]),_:2},1024),e(j,{modelValue:v.value,"onUpdate:modelValue":S[5]||(S[5]=q=>v.value=q),color:m.value,"multi-line":""},{actions:t(()=>[e(T,{color:"red",variant:"text",onClick:S[4]||(S[4]=q=>v.value=!1)},{default:t(()=>[x(" Close ")]),_:1})]),default:t(()=>[F("span",xa,N(_.value),1)]),_:1},8,["modelValue","color"])]),_:2},1032,["modelValue"])]),_:1}),e(U,{modelValue:c.value,"onUpdate:modelValue":S[9]||(S[9]=Q=>c.value=Q),"max-width":"500px"},{default:t(()=>[e(Z,null,{default:t(()=>[e(ae,{class:"text-h5"},{default:t(()=>[x("Voulez-vous vraiment supprimer cette question?")]),_:1}),e(Y,null,{default:t(()=>[e(W),e(T,{color:"blue-darken-1",variant:"text",onClick:S[7]||(S[7]=Q=>c.value=!1)},{default:t(()=>[x("Annuler")]),_:1}),e(T,{color:"blue-darken-1",variant:"text",onClick:S[8]||(S[8]=Q=>b())},{default:t(()=>[x("Supprimer")]),_:1}),e(W)]),_:1})]),_:1})]),_:1},8,["modelValue"]),e(U,{modelValue:d.value,"onUpdate:modelValue":S[12]||(S[12]=Q=>d.value=Q),persistent:"",width:"auto"},{default:t(()=>[e(Z,null,{default:t(()=>[e(ae,{class:"text-h5"},{default:t(()=>[x("Voulez-vous vraiment changer le status de question en examen?")]),_:1}),e(Y,null,{default:t(()=>[e(W),e(T,{color:"blue-darken-1",variant:"text",onClick:S[10]||(S[10]=Q=>d.value=!1)},{default:t(()=>[x("Annuler")]),_:1}),e(T,{color:"blue-darken-1",variant:"text",onClick:S[11]||(S[11]=Q=>E())},{default:t(()=>[x("Modifier")]),_:1}),e(W)]),_:1})]),_:1})]),_:1},8,["modelValue"])],64)}}}),Va={key:0,class:"mx-3"},ka={key:1,class:"mx-3",style:{color:"red"}},Ca={class:"mx-3"},Sa={class:"mx-3 d-flex align-center"},Aa={style:{"font-weight":"14",color:"black"}},Pa=J({__name:"GestionContenu",setup(a){const n=y(!0),o=new Je,l=new Ae,r=y(!1),p=y(),c=y(),d=y([]);ke(async()=>{d.value=await o.retrieveAllAsAdmin(),n.value=!1});async function v(i){var u;try{n.value=!0;const h=await o.add(i);if(h){let w=h[0];(u=d.value)==null||u.push(w),p.value="Chapter créé avec succés",c.value="green",r.value=!0,n.value=!1}}catch(h){let w="Échec de l'action administrateur. Debugg: "+h;p.value=w,r.value=!0,n.value=!1}}async function _(i,u){try{n.value=!0,await l.add(i,u)&&(n.value=!1,p.value="Question ajouté au chapitre "+u.title,c.value="green",r.value=!0,n.value=!1)}catch(h){let w="Échec de l'action administrateur. Debugg: "+h;p.value=w,r.value=!0,n.value=!1}}async function m(i){try{n.value=!0;const u=await o.modify(i);u&&(d.value=u,p.value="Chapitre modifié avec succés. "+i.title,c.value="green",r.value=!0,n.value=!1)}catch(u){let h="Échec de l'action administrateur. Debugg: "+u;p.value=h,r.value=!0,n.value=!1}}return(i,u)=>{const h=s("v-col"),w=s("v-row"),g=s("v-chip"),f=s("v-rating"),V=s("v-expansion-panel-title"),$=s("v-card"),E=s("v-expansion-panel-text"),P=s("v-expansion-panel"),k=s("v-expansion-panels"),b=s("v-btn"),A=s("v-snackbar");return O(),te(H,null,[e($,{loading:n.value,title:"Gestion du contenu",width:"auto"},{default:t(()=>[e(w,null,{default:t(()=>[e(h,null,{default:t(()=>[e(ga,{onAddChapter:v})]),_:1})]),_:1}),e(k,{variant:"accordion"},{default:t(()=>[(O(!0),te(H,null,$t(d.value,C=>(O(),ne(P,{key:C.id_chapter,value:C,class:"text-left my-2 elevation-3"},{default:t(()=>[e(V,null,{default:t(()=>[e(w,null,{default:t(()=>[e(h,{cols:"2"},{default:t(()=>[C.isEnable?(O(),te("div",Va,[x(" Chapitre: "),e(g,{class:"mx-2",color:"orange",rounded:""},{default:t(()=>[x(N(C.presentationOrder),1)]),_:2},1024)])):(O(),te("div",ka," Chapitre désactivé "))]),_:2},1024),e(h,{cols:"7"},{default:t(()=>[F("div",Ca,[x(" Titre: "),e(g,{class:"mx-2",color:"orange",rounded:""},{default:t(()=>[x(N(C.title),1)]),_:2},1024)])]),_:2},1024),e(h,{cols:"3"},{default:t(()=>[F("div",Sa,[x(" Difficulté: "),e(f,{modelValue:C.difficultyLevel,"onUpdate:modelValue":S=>C.difficultyLevel=S,readonly:"",density:"compact",class:"mx-3"},null,8,["modelValue","onUpdate:modelValue"])])]),_:2},1024)]),_:2},1024)]),_:2},1024),e(E,null,{default:t(()=>[e($,{class:"my-1 py-1 elevation-0"},{default:t(()=>[e(ha,{chapter:C},null,8,["chapter"]),e(_a,{chapter:C,onAddQuestion:_},null,8,["chapter"]),e(ba,{chapter:C,onModifyChapter:m},null,8,["chapter"]),e(fa,{chapter:C},null,8,["chapter"])]),_:2},1024)]),_:2},1024)]),_:2},1032,["value"]))),128))]),_:1})]),_:1},8,["loading"]),e(A,{modelValue:r.value,"onUpdate:modelValue":u[1]||(u[1]=C=>r.value=C),color:c.value,"multi-line":""},{actions:t(()=>[e(b,{color:"red",variant:"text",onClick:u[0]||(u[0]=C=>r.value=!1)},{default:t(()=>[x(" Close ")]),_:1})]),default:t(()=>[F("span",Aa,N(p.value),1)]),_:1},8,["modelValue","color"])],64)}}}),Ta=J({__name:"VoirMembresGroupe",props:{group:Object},setup(a){const n=a,o=new We,l=y(!1),r=y(!1),p=y([]),c=y(""),d=y(10),v=y([{title:"Pseudonyme",align:"end",key:"user.displayname"},{title:"Prénom",align:"end",key:"user.firstname"},{title:"Nom",align:"end",key:"user.lastname"},{title:"Anniversaire",align:"end",key:"user.birthday"}]),_=[{title:"5",value:5},{title:"10",value:10},{title:"15",value:15},{title:"25",value:25},{title:"100",value:100}];async function m(){try{if(r.value=!0,c.value="",n.group!==void 0){const i=await o.retrieveMembers(n.group.members);i&&(p.value=i,r.value=!1)}}catch(i){throw i}}return(i,u)=>{const h=s("v-icon"),w=s("v-btn"),g=s("v-toolbar-title"),f=s("v-col"),V=s("v-text-field"),$=s("v-row"),E=s("v-card-title"),P=s("v-spacer"),k=s("v-card-text"),b=s("v-card-actions"),A=s("v-card"),C=s("v-dialog"),S=s("v-tooltip");return O(),ne(S,{text:"Voir membres du groupe"},{activator:t(({props:I})=>[e(w,M(I,{variant:"outlined",size:"small",class:"mx-1",onClick:u[0]||(u[0]=T=>m())}),{default:t(()=>{var T;return[e(h,{class:"mx-1",icon:"mdi-account-group"}),x(N((T=a.group)==null?void 0:T.nbUser),1)]}),_:2},1040),e(C,{activator:"parent",persistent:"",modelValue:l.value,"onUpdate:modelValue":u[5]||(u[5]=T=>l.value=T),transition:"dialog-bottom-transition"},{default:t(()=>[e(A,{width:"auto"},{default:t(()=>[e(E,null,{default:t(()=>[e($,null,{default:t(()=>[e(f,{cols:"8"},{default:t(()=>[e(g,null,{default:t(()=>{var T;return[x(" Membres de "+N((T=a.group)==null?void 0:T.name),1)]}),_:1})]),_:1}),e(f,{cols:"3"},{default:t(()=>[e(V,{modelValue:c.value,"onUpdate:modelValue":u[1]||(u[1]=T=>c.value=T),clearable:"",label:"Search","single-line":"","hide-details":""},null,8,["modelValue"])]),_:1}),e(f,{cols:"1"},{default:t(()=>[e(w,{icon:"",size:"small",color:"red",onClick:u[2]||(u[2]=T=>l.value=!1)},{default:t(()=>[e(h,null,{default:t(()=>[x("mdi-close")]),_:1})]),_:1})]),_:1})]),_:1})]),_:1}),e(k,null,{default:t(()=>[e(P),e(V,{modelValue:c.value,"onUpdate:modelValue":u[3]||(u[3]=T=>c.value=T),clearable:"","append-icon":"mdi-magnify",label:"Search","single-line":"","hide-details":""},null,8,["modelValue"]),e(ge(ye),{loading:r.value,hover:"",headers:v.value,"items-per-page":d.value,"items-per-page-options":_,items:p.value,search:c.value,"items-per-page-text":"Membres par page",pageText:"{0}-{1} de {2}",class:"elevation-1"},null,8,["loading","headers","items-per-page","items","search"])]),_:1}),e(b,null,{default:t(()=>[e(w,{color:"red",onClick:u[4]||(u[4]=T=>l.value=!1)},{default:t(()=>[x("Fermer")]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"])]),_:1})}}}),$a=J({__name:"GestionSocial",setup(a){const n=new We,o=y(),l=y(!0);y(!1);const r=y(10),p=y(""),c=y([{title:"Nom",align:"end",key:"name"},{title:"Description",align:"end",key:"description"},{title:"NbMembres",align:"end",key:"nbUser"}]),d=[{title:"5",value:5},{title:"10",value:10},{title:"15",value:15},{title:"25",value:25},{title:"100",value:100}];return ke(async()=>{try{const v=await n.retrieveAllAsAdmin();v&&(o.value=v,l.value=!1)}catch(v){throw v}}),(v,_)=>{const m=s("v-spacer"),i=s("v-text-field"),u=s("v-card-title"),h=s("v-card");return O(),ne(h,{width:"auto"},{default:t(()=>[e(u,null,{default:t(()=>[x(" Liste des groupes "),e(m),e(i,{modelValue:p.value,"onUpdate:modelValue":_[0]||(_[0]=w=>p.value=w),clearable:"","append-icon":"mdi-magnify",label:"Search","single-line":"","hide-details":""},null,8,["modelValue"])]),_:1}),e(ge(ye),{loading:l.value,hover:"",headers:c.value,"items-per-page":r.value,"items-per-page-options":d,items:o.value,search:p.value,"items-per-page-text":"Groupe par page",pageText:"{0}-{1} de {2}",class:"elevation-1",a:""},{"item.nbUser":t(({item:w})=>[e(Ta,{group:w.raw},null,8,["group"])]),_:1},8,["loading","headers","items-per-page","items","search"])]),_:1})}}}),Qa=J({__name:"AdminPage",setup(a){const n=y(null),o=y(!1),l=new Ge;return ke(async()=>{try{await l.adminCheck()&&(o.value=!0)}catch{alert("Accés refusé")}}),(r,p)=>{const c=s("v-tab"),d=s("v-tabs"),v=s("v-window-item"),_=s("v-window"),m=s("v-card-text"),i=s("v-card");return O(),ne(ft,null,{default:t(()=>[o.value?(O(),ne(i,{key:0,class:"ma-10"},{default:t(()=>[e(d,{modelValue:n.value,"onUpdate:modelValue":p[0]||(p[0]=u=>n.value=u)},{default:t(()=>[e(c,{value:"tabUser"},{default:t(()=>[x("Utilisateurs")]),_:1}),e(c,{value:"tabContent"},{default:t(()=>[x("Contenu")]),_:1}),e(c,{value:"tabSocial"},{default:t(()=>[x("Social")]),_:1}),e(c,{value:"tabStats"},{default:t(()=>[x("Statistiques")]),_:1})]),_:1},8,["modelValue"]),e(m,null,{default:t(()=>[e(_,{modelValue:n.value,"onUpdate:modelValue":p[1]||(p[1]=u=>n.value=u)},{default:t(()=>[e(v,{value:"tabUser"},{default:t(()=>[e(pa)]),_:1}),e(v,{value:"tabContent"},{default:t(()=>[e(Pa)]),_:1}),e(v,{value:"tabSocial"},{default:t(()=>[e($a)]),_:1}),e(v,{value:"tabStats"},{default:t(()=>[x(" Statistiques ")]),_:1})]),_:1},8,["modelValue"])]),_:1})]),_:1})):Dt("",!0)]),_:1})}}});export{Qa as default};
